
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Documentação Promotron &#8212; Promotron  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Resumo Do Dia" href="ResumoDoDia.html" />
    <link rel="prev" title="Welcome to Promotron’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="documentacao-promotron">
<h1>Documentação Promotron<a class="headerlink" href="#documentacao-promotron" title="Permalink to this headline">¶</a></h1>
<p>A intenção destes arquivos é documentar aspectos relevantes do Promotron, tais como os componentes existentes, como é feito o cálculo de cada componente, as regras de negócio utilizadas, possíveis passos para realizar o troubleshooting dos componentes, etc.</p>
<p>!! Frases verdes precedidas por “!!” indicam possíveis problemas ou dúvidas encontrados durante a escrita desta documentação, em relação ao conteúdo.</p>
<p>&lt;font color=”orange”&gt;++ Frases laranjas precedidas por “++” indicam possíveis melhoras/mudanças na própria documentação. Ou seja, em relação à forma.&lt;/font&gt;</p>
<p>Alguns dos objetivos para esta documentação são:</p>
<ul>
<li><p>Oferecer um Know-How das tabelas do MGP: Todos os cálculos advêm das tabelas do MGP, então entender estas tabelas é fundamental (e manter queries que permitam entender).</p></li>
<li><dl>
<dt>Para cada componente, entender:</dt><dd><blockquote>
<div><ul class="simple">
<li><p>O funcionamento básico dele (Quase como um user manual para o promotor - responde “O quê estou vendo”)</p></li>
<li><p>Regras de negócio (se as regras estiverem em uma tabela/componente específico, referenciar - mas não repetir - as regras)</p></li>
</ul>
</div></blockquote>
<p>(Também faz parte do “O quê”, e pode ser visto junto com o funcionamento básico)</p>
</dd>
</dl>
</li>
</ul>
<dl>
<dt>&lt;font color=”orange”&gt;++ (Possível usar links e anchors?) &lt;/font&gt;</dt><dd><blockquote>
<div><blockquote>
<div><ul class="simple">
<li><p>Estrutura do código (foco no back/BDA), vantagens/desvantagens? Outros aspectos? Cache, é real-time (oracle) ou impala?</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>(Responde “Como é feito” e “Onde está”)</dt><dd><ul class="simple">
<li><p>Do que eles dependem (quais tabelas auxiliares/outros componentes que eles usam)</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>(Se ele gerar uma dependência para frente, não importa, isso será documentado na parte do componente da frente</dt><dd><p>até para… (próximo ponto))</p>
</dd>
</dl>
</dd>
</dl>
<ul class="simple">
<li><p>…Evitar repetir documentação. A documentação de um componente/tabela deve ser auto-contida para evitar duplicação em várias partes (o que dificulta manter o código). Isso quer dizer que, se o componente A depende de B, e tiver uma modificação em B, toda essa modificação será documentada em B (não em A), a não ser que a dependência mude, mas isso pressupõe que A também mudou.</p></li>
<li><dl class="simple">
<dt>Troubleshooting (se possível, oferecer passos para resolução de possíveis problemas com o componente, levando em conta back e BDA)</dt><dd><p>(Responde “Como consertar”)</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="aspectos-iniciais">
<h1>Aspectos Iniciais<a class="headerlink" href="#aspectos-iniciais" title="Permalink to this headline">¶</a></h1>
<p>Por enquanto, o Promotron só está implementado para as promotorias de Tutela Coletiva (com exceção das Tutelas Coletivas de infância ou de idoso), e para as PIPs Territoriais, Promotorias de Investigação Penal Territoriais (ou seja, as Especializadas não estão sendo consideradas). Ao falar “PIP” nesta documentação, refere-se às PIPs Territoriais.</p>
<p>&lt;font color=”green”&gt;!! Atualmente, para definir se uma promotoria é válida e algo deve ser mostrado para ele, busca-se o tipo da promotoria no backend (função tipo_orgao no apimpmapas/login/jwtlogin.py). Esta função remove as Tutelas de Idoso e/ou Infância. Porém não remove as PIPs Especializadas (que virão com muitos dados faltantes - já que não há atribuição definida para estas no BDA).&lt;/font&gt;</p>
</div>
<div class="section" id="atribuicao">
<h1>Atribuição<a class="headerlink" href="#atribuicao" title="Permalink to this headline">¶</a></h1>
<p>O conceito de <strong>atribuição</strong> (ou <strong>pacote de atribuição</strong>) é muito usado no projeto como um todo, por isso vale a pena explicá-lo. Para fins dos cálculos realizados, a atribuição nada mais é do que um grupo de promotorias similares - e que portanto faz sentido de serem comparadas de forma conjunta. Um exemplo disso são as Promotorias de Tutela Coletiva de Cidadania.</p>
<ul class="simple">
<li><p>Tutelas Coletivas: a atribuição diz respeito ao pacote de atribuição no qual a Tutela está inserida (Consumidor, Cidadania, etc).</p></li>
<li><p>PIPs: a atribuição diz respeito a todas as PIPs Territoriais.</p></li>
</ul>
<p>As atribuições estão definidas na tabela auxiliar do BDA de nome atualizacao_pj_pacote, e podem ser modificadas ou adicionadas (por exemplo, a atribuição de código 200 foi criada especificamente para as PIPs).</p>
</div>
<div class="section" id="ciclo-de-geracao">
<h1>Ciclo de geração<a class="headerlink" href="#ciclo-de-geracao" title="Permalink to this headline">¶</a></h1>
<p>&lt;font color=”orange”&gt;++(Fazer um fluxograma disso?)&lt;/font&gt;
Tabelas podem ser criados por processo spark + NiFi, ou SQL rodado uma vez (tabelas auxiliares)
Script criação BDA -&gt; Tabela -&gt; View Backend -&gt; Front
Ou Oracle -&gt; View Backend -&gt; Front</p>
<p>(Explicação sobre ambiente de produção e dev aqui?)</p>
<p>(Explicação sobre o que é um componente/subcomponente no escopo deste documento?)
Exemplo de Componente - Resumo do Dia, subcomponentes Frase de Acervo, Frase de Entradas, Frase de Resolutividade
O subcomponente é sempre relativo a uma view, enquanto o componente pode ser um conjunto de views.</p>
</div>
<div class="section" id="secoes">
<span id="sections-test"></span><h1>Seções<a class="headerlink" href="#secoes" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Know-How MGP</p></li>
<li><p>Tabelas Auxiliares</p></li>
<li><dl class="simple">
<dt>Componentes:</dt><dd><p>Para cada subcomponente:
* User Manual
* Regras de Negócio
* Estrutura do Código
* Dependências (pra trás - nunca pra frente) + Referências
* Troubleshooting</p>
</dd>
</dl>
</li>
</ul>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Promotron</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Documentação Promotron</a></li>
<li class="toctree-l1"><a class="reference internal" href="#aspectos-iniciais">Aspectos Iniciais</a></li>
<li class="toctree-l1"><a class="reference internal" href="#atribuicao">Atribuição</a></li>
<li class="toctree-l1"><a class="reference internal" href="#ciclo-de-geracao">Ciclo de geração</a></li>
<li class="toctree-l1"><a class="reference internal" href="#secoes">Seções</a></li>
<li class="toctree-l1"><a class="reference internal" href="ResumoDoDia.html">Resumo Do Dia</a></li>
<li class="toctree-l1"><a class="reference internal" href="ResumoDoDia.html#frase-de-resolutividade">Frase de Resolutividade</a></li>
<li class="toctree-l1"><a class="reference internal" href="ResumoDoDia.html#frase-de-acervo">Frase de Acervo</a></li>
<li class="toctree-l1"><a class="reference internal" href="ResumoDoDia.html#frase-de-entradas">Frase de Entradas</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to Promotron’s documentation!</a></li>
      <li>Next: <a href="ResumoDoDia.html" title="next chapter">Resumo Do Dia</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, MPRJ.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/README.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>